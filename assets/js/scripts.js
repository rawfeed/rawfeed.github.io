document.addEventListener("DOMContentLoaded",()=>{const d=document.querySelectorAll(".fade-in"),i=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.classList.add("visible"),i.unobserve(t.target))})},{threshold:.1});d.forEach(e=>i.observe(e));const f=800,u=document.querySelector(".navbar"),h=()=>u?u.getBoundingClientRect().height:0;function m(e){return e<.5?2*e*e:-1+(4-2*e)*e}function g(e,t,n){const o=performance.now();return new Promise(r=>{function s(c){const a=c-o,l=Math.min(a/n,1),v=m(l);window.scrollTo(0,Math.round(e+(t-e)*v)),l<1?requestAnimationFrame(s):r()}requestAnimationFrame(s)})}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){const n=this.getAttribute("href");if(!n||n==="#"||n==="#0")return;const o=document.querySelector(n);if(!o)return;t.preventDefault();const r=window.scrollY||window.pageYOffset,s=o.getBoundingClientRect(),c=h(),a=r+s.top-c;g(r,a,f).then(()=>history.pushState(null,"",n))},{passive:!1})})});
