(function(){document.addEventListener("DOMContentLoaded",function(){var d,u,c,r,s;if(d=document.getElementById("contact"),d)return c=document.getElementById("contactForm"),s=document.getElementById("submitButton"),u="",r=function(l,i,t){var a,o,n,e,g;return t==null&&(t="success"),e=document.getElementById("contactMessageModal"),g=e.querySelector(".modal-title"),o=e.querySelector(".modal-body"),n=e.querySelector(".modal-content"),n.classList.remove("contact-message-success","contact-message-error","contact-message-warning"),t==="success"?n.classList.add("contact-message-success"):t==="error"?n.classList.add("contact-message-error"):t==="warning"&&n.classList.add("contact-message-warning"),g.innerHTML=l,o.innerHTML=i,a=new bootstrap.Modal(e),a.show()},c.addEventListener("submit",function(l){var i,t,a,o,n;if(l.preventDefault(),a=grecaptcha.getResponse(),!a){r("Warning","Please tick the 'I'm not a robot' box.","warning");return}if(n=document.getElementById("textMessage"),o=n.value.trim(),o.length<"50"){r("Warning","the message must have at least 50 characters.","warning");return}return s.disabled=!0,s.textContent="sending...wait",t=new FormData(c),i=Object.fromEntries(t.entries()),fetch(u,{method:"POST",redirect:"follow",body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){if(e.result==="success")return c.reset(),grecaptcha.reset(),r("Message sent","your message has been sent successfully!","success");throw r("Error","something went wrong while sending your message.","error"),new Error(e.message||"something went wrong while sending your message.")}).catch(function(e){return console.error("Error sending:",e),e.message.includes("reCAPTCHA")?r("Error","Verification failed. Please reload the page and try again.","error"):r("Error","An error occurred while sending the message. Please try again.","error"),grecaptcha.reset()}).finally(function(){return s.disabled=!1,s.textContent="send!"})})})}).call(void 0);
