document.addEventListener("DOMContentLoaded",()=>{const p=document.getElementById("terminal");if(p){let y=function(){const n=navigator.language||navigator.userLanguage,o={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};let t="";n==="pt-BR"&&(t=" (Hor\xE1rio de Bras\xEDlia)");try{return new Date().toLocaleString(n,o)+t}catch{return new Date().toLocaleString("en-US",o)+t}};const v=p.querySelector(".terminal-header__max");let u=!1;v.addEventListener("click",()=>{u=!u,p.classList.toggle("terminal-fullscreen",u)});const C=document.getElementById("terminal-screen--socials"),l=document.getElementById("screen"),h={help:`about ------------- A brief summary about 'rawfeed'
socials ----------- Links to my active social networks
clear ------------- Clear the terminal screen (or press Esc)
date -------------- Print the system date and time
help -------------- Print this menu
`,about:document.getElementById("home-content").innerHTML,socials:C?C.innerHTML:"No socials found"},f=()=>{const n=document.createElement("div");n.className="line";const o=document.createElement("span");o.className="prompt",o.textContent="[rawfeed@linux ~]$";const t=document.createElement("span");t.className="input-wrapper";const e=document.createElement("input");e.type="text",e.className="input",e.placeholder=" type 'help'",e.spellcheck=!1,e.autocomplete="off",e.autocorrect="off",e.autocapitalize="off";const s=document.createElement("span");s.className="cursor";const c=document.createElement("span");c.className="measure",t.appendChild(e),t.appendChild(s),t.appendChild(c),n.appendChild(o),n.appendChild(t),l.appendChild(n),e.focus(),l.scrollTop=l.scrollHeight;const i=()=>{const m=e.selectionStart||0;c.textContent=e.value.slice(0,m);const a=c.offsetWidth,r=a-e.scrollLeft;s.style.left=`${r}px`;const L=10;a-e.scrollLeft>e.clientWidth-L?(e.scrollLeft=a-e.clientWidth+L,s.style.left=`${a-e.scrollLeft}px`):a<e.scrollLeft&&(e.scrollLeft=a,s.style.left=`${a-e.scrollLeft}px`)},d=()=>{s.style.opacity="1",i()},H=()=>{s.style.opacity="0"};e.addEventListener("input",i),e.addEventListener("keydown",m=>{if(setTimeout(i,0),m.key==="Enter"){m.preventDefault();const a=e.value.trim().toLowerCase();if(a){t.removeChild(e),t.removeChild(s),t.removeChild(c);const r=document.createElement("span");r.textContent=a,t.appendChild(r),g(a)}else{t.removeChild(e),t.removeChild(s),t.removeChild(c);const r=document.createElement("span");r.textContent="",t.appendChild(r)}f()}else m.key==="Escape"&&(m.preventDefault(),l.innerHTML="",f())}),e.addEventListener("keyup",i),e.addEventListener("click",()=>setTimeout(i,0)),e.addEventListener("mouseup",()=>setTimeout(i,0)),e.addEventListener("focus",d),e.addEventListener("blur",H),i()},g=n=>{n==="help"?w(h.help,"html"):n==="date"?E(y(),"text"):n==="about"?T(h.about):n==="socials"?x(h.socials):n==="clear"?l.innerHTML="":n&&E(n+": command not found.","text")},w=(n,o="html")=>{const t=document.createElement("div");t.className="line-wrapper";const e=document.createElement("span");e.className="help-description",e.innerHTML=`<p>Use the commands below:</p>
`;const s=document.createElement("span");s.className="help-commands__title",s.textContent="Commands:";const c=document.createElement("span");c.className="help-commands__desc",c.textContent="Description:",t.appendChild(e),t.appendChild(s),t.appendChild(c),n.split(`
`).forEach(i=>{const d=document.createElement("div");d.className="line",o==="html"?d.innerHTML=i:d.textContent=i,t.appendChild(d)}),l.appendChild(t),l.scrollTop=l.scrollHeight},x=(n,o="html")=>{const t=document.createElement("div");t.className="line-wrapper";const e=document.createElement("span");e.className="socials-command__desc",e.textContent=`Click on a link and go directly to my social network:
`,l.appendChild(e),o==="html"?t.innerHTML=n:t.textContent=n,l.appendChild(t),l.scrollTop=l.scrollHeight},T=(n,o="html")=>{const t=document.createElement("div");t.className="line-wrapper",o==="html"?t.innerHTML=n:t.textContent=n,l.appendChild(t),l.scrollTop=l.scrollHeight},E=(n,o="html")=>{const t=document.createElement("div");t.className="line-wrapper",n.split(`
`).forEach(e=>{const s=document.createElement("div");s.className="line",o==="html"?s.innerHTML=e:s.textContent=e,t.appendChild(s)}),l.appendChild(t),l.scrollTop=l.scrollHeight};f(),p.addEventListener("click",n=>{const o=l.querySelector(".input:last-of-type");o&&o.focus()})}});
